# ~/.bash_aliases_win

# vim/editor stuff
_qtnvim='/c/Users/zdkohler/devel/Neovim/bin/nvim-qt.exe'
_nvim='/c/Users/zdkohler/devel/Neovim/bin/nvim.exe'
alias vim="winpty --mouse $_nvim"
export VISUAL="winpty --mouse $_nvim"
# alias vim=$_qtnvim
# export VISUAL=$_qtnvim
export EDITOR="$VISUAL"
export COLORTERM=256


# these must be before the following check for interactivity:
alias jpy="jupyter notebook ~/devel/ipynb/"
alias flaskdebug='echo "Starting Flask..."; FLASK_APP=virtcom.http FLASK_DEBUG=1 python $pythonroot/Scripts/flask-script.py run -h 0.0.0.0 -p 8000'
alias ipython="winpty ipython"
alias python="winpty python"
alias cc='python -m coopercondadeploy.bin.cooperconda'
alias mru=$'awk \'/^> /{ sub("~", ENVIRON["HOME"]); print substr($0, 3) }\' ~/.viminfo | xargs realpath -eqP --relative-base=.'

alias tf="'/c/Program Files (x86)/Microsoft Visual Studio 11.0/Common7/IDE/tf.exe'"
alias tfpt="'/c/Program Files (x86)/Microsoft Team Foundation Server 2012 Power Tools/TFPT.EXE'"

# 2018-03-26
# workaround for msys2 envsubst.exe bug
# https://github.com/Alexpux/MSYS2-packages/issues/735
alias git="PATH=/usr/bin git"

function rmtag () {
git tag -d $1 && git push --delete origin $1
}

function tmuxsession () {
    FILE=tmux.session
    if [ -f $FILE ]; then
        windowtitle="${PWD##*/} tmuxsession"
        PS1=""
        # PS1="\e]0;$windowtitle\a\n$"
        echo -ne "\e]0;$windowtitle\a"
        tmux new-session "bash -c '. $FILE'"
    else
        tmux
    fi
}
